\doxysection{Referencia de la clase Thresholds}
\hypertarget{class_thresholds}{}\label{class_thresholds}\index{Thresholds@{Thresholds}}


Clase para gestionar los umbrales, alertas y estados de los actuadores.  




{\ttfamily \#include $<$Thresholds\+Controller.\+h$>$}

\doxysubsubsection*{Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_thresholds_a30c6e93bdc6fd6240f479ab39b78edf8}\label{class_thresholds_a30c6e93bdc6fd6240f479ab39b78edf8} 
{\bfseries Thresholds} ()
\begin{DoxyCompactList}\small\item\em Constructor de la clase \doxylink{class_thresholds}{Thresholds}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_thresholds_a598f35abd225b482dc1edbbeb2ebc0be}{has\+Alert\+Changed}} ()
\begin{DoxyCompactList}\small\item\em Verifica si alguna alerta ha cambiado desde la última evaluación. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_thresholds_acbe4c91c942cefda9895d31ffb76727f}{any\+Sensor\+Alert\+Active}} () const
\begin{DoxyCompactList}\small\item\em Verifica si alguna alerta de sensor está activa. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_thresholds_a592d9bd4c8ef0344796b75cdf72efdf8}{has\+Critical\+Failure}} () const
\begin{DoxyCompactList}\small\item\em Verifica si hay una falla crítica en el sistema. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_actuator_state}{Actuator\+State}} \mbox{\hyperlink{class_thresholds_a3bb92d66f2bf1123cd1e4541241fd81b}{evaluate}} (const \mbox{\hyperlink{struct_sensor_data}{Sensor\+Data}} \&data)
\begin{DoxyCompactList}\small\item\em Evalúa los datos de los sensores y actualiza el estado de los actuadores. \end{DoxyCompactList}\item 
String \mbox{\hyperlink{class_thresholds_a8465e30d67052905f53b748e46f5749c}{return\+Alarm}} (const \mbox{\hyperlink{struct_sensor_data}{Sensor\+Data}} \&data)
\begin{DoxyCompactList}\small\item\em Genera un mensaje con las alertas activas. \end{DoxyCompactList}\item 
String \mbox{\hyperlink{class_thresholds_a06485a2d2379ccefed776cf2e3694c25}{get\+Status}} () const
\begin{DoxyCompactList}\small\item\em Obtiene el estado actual de los umbrales configurados. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_thresholds_a5826df94b84314fac5d1db2c01cef61a}{update\+From\+Command}} (const String \&cmd)
\begin{DoxyCompactList}\small\item\em Actualiza los umbrales en función de un comando recibido. \end{DoxyCompactList}\item 
String \mbox{\hyperlink{class_thresholds_af201ffee6ff0ee5b81a16147cd1a2222}{format\+Sensor\+Data}} (const \mbox{\hyperlink{struct_sensor_data}{Sensor\+Data}} \&d) const
\begin{DoxyCompactList}\small\item\em Formatea los datos de los sensores en una cadena legible. \end{DoxyCompactList}\item 
String \mbox{\hyperlink{class_thresholds_a751cb3228c8aab50f56f0561516cd44a}{format\+Actuator\+State}} (const \mbox{\hyperlink{struct_actuator_state}{Actuator\+State}} \&state) const
\begin{DoxyCompactList}\small\item\em Formatea el estado de los actuadores en una cadena legible. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Atributos públicos}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_thresholds_a90fd4587dea399f567a7c5402be09da7}\label{class_thresholds_a90fd4587dea399f567a7c5402be09da7} 
int {\bfseries RSSIWi\+Fi} = 0
\begin{DoxyCompactList}\small\item\em Valor por defecto para RSSI del Wi\+Fi. \end{DoxyCompactList}\item 
\Hypertarget{class_thresholds_afeb01ff4cc2f64394ae8deb70d12b508}\label{class_thresholds_afeb01ff4cc2f64394ae8deb70d12b508} 
bool {\bfseries alert\+Low\+Soil\+Moisture} = false
\item 
\Hypertarget{class_thresholds_afd5c7fcd8a373a64dd55b8521fa0af82}\label{class_thresholds_afd5c7fcd8a373a64dd55b8521fa0af82} 
bool {\bfseries alert\+High\+Soil\+Moisture} = false
\item 
\Hypertarget{class_thresholds_ab2fb3e8a13936aaff429bec877239435}\label{class_thresholds_ab2fb3e8a13936aaff429bec877239435} 
bool {\bfseries alert\+Low\+Temperature} = false
\item 
\Hypertarget{class_thresholds_a36c1a64dc7c4b15f45cc6e915a08ec36}\label{class_thresholds_a36c1a64dc7c4b15f45cc6e915a08ec36} 
bool {\bfseries alert\+High\+Temperature} = false
\item 
\Hypertarget{class_thresholds_a9660ebb4e740234e3413365db4a948ec}\label{class_thresholds_a9660ebb4e740234e3413365db4a948ec} 
bool {\bfseries alert\+CO2} = false
\item 
\Hypertarget{class_thresholds_a2e6137790e3984797b5d20b62439d996}\label{class_thresholds_a2e6137790e3984797b5d20b62439d996} 
bool {\bfseries alert\+Light} = false
\item 
\Hypertarget{class_thresholds_a8726b131656748c41e5eb2c64242fa1b}\label{class_thresholds_a8726b131656748c41e5eb2c64242fa1b} 
bool {\bfseries alert\+Voltage} = false
\item 
\Hypertarget{class_thresholds_aa345e6b358c10ed0897d8dc71ef83ef2}\label{class_thresholds_aa345e6b358c10ed0897d8dc71ef83ef2} 
bool {\bfseries alert\+ESPSensor} = false
\item 
\Hypertarget{class_thresholds_ade77aa3d5cdb774009af5f6067396d7a}\label{class_thresholds_ade77aa3d5cdb774009af5f6067396d7a} 
bool {\bfseries alert\+ESPActuator} = false
\item 
\Hypertarget{class_thresholds_a10bedf755c34e9f64cfd4bf4a72a5994}\label{class_thresholds_a10bedf755c34e9f64cfd4bf4a72a5994} 
bool {\bfseries alert\+Wifi} = false
\item 
\Hypertarget{class_thresholds_ac5b32115deccde5fe91e530b865ea8ff}\label{class_thresholds_ac5b32115deccde5fe91e530b865ea8ff} 
bool {\bfseries prev\+Alert\+Low\+Soil\+Moisture} = false
\item 
\Hypertarget{class_thresholds_a54bdaa71ca2ce2aa244396112ac93bc6}\label{class_thresholds_a54bdaa71ca2ce2aa244396112ac93bc6} 
bool {\bfseries prev\+Alert\+High\+Soil\+Moisture} = false
\item 
\Hypertarget{class_thresholds_ae13e514d937f0bec35b3b543407ba3e9}\label{class_thresholds_ae13e514d937f0bec35b3b543407ba3e9} 
bool {\bfseries prev\+Alert\+Low\+Temperature} = false
\item 
\Hypertarget{class_thresholds_a88dd1382dd9ad3fa321feb04fcd46360}\label{class_thresholds_a88dd1382dd9ad3fa321feb04fcd46360} 
bool {\bfseries prev\+Alert\+High\+Temperature} = false
\item 
\Hypertarget{class_thresholds_af7dab1fc3b84b647e71078c28d45a43c}\label{class_thresholds_af7dab1fc3b84b647e71078c28d45a43c} 
bool {\bfseries prev\+Alert\+CO2} = false
\item 
\Hypertarget{class_thresholds_aea2bda0a828af9b3eadba8418ac02a57}\label{class_thresholds_aea2bda0a828af9b3eadba8418ac02a57} 
bool {\bfseries prev\+Alert\+Light} = false
\item 
\Hypertarget{class_thresholds_a49b27e69e9b6bbbaf1706a646abff2e0}\label{class_thresholds_a49b27e69e9b6bbbaf1706a646abff2e0} 
bool {\bfseries prev\+Alert\+Voltage} = false
\item 
\Hypertarget{class_thresholds_a09527087e0d1b77fba9620e5a36dd0b7}\label{class_thresholds_a09527087e0d1b77fba9620e5a36dd0b7} 
bool {\bfseries prev\+Alert\+ESPSensor} = false
\item 
\Hypertarget{class_thresholds_a875d2989ea51d9bdfe39c2cf46d97f84}\label{class_thresholds_a875d2989ea51d9bdfe39c2cf46d97f84} 
bool {\bfseries prev\+Alert\+ESPActuator} = false
\item 
\Hypertarget{class_thresholds_a984729bcb3277ff8102f06de3aa09d96}\label{class_thresholds_a984729bcb3277ff8102f06de3aa09d96} 
bool {\bfseries prev\+Alert\+Wifi} = false
\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Clase para gestionar los umbrales, alertas y estados de los actuadores. 

Proporciona métodos para evaluar los datos de los sensores, activar alertas, controlar actuadores y generar mensajes de estado. 

\doxysubsection{Documentación de funciones miembro}
\Hypertarget{class_thresholds_acbe4c91c942cefda9895d31ffb76727f}\index{Thresholds@{Thresholds}!anySensorAlertActive@{anySensorAlertActive}}
\index{anySensorAlertActive@{anySensorAlertActive}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{anySensorAlertActive()}{anySensorAlertActive()}}
{\footnotesize\ttfamily \label{class_thresholds_acbe4c91c942cefda9895d31ffb76727f} 
bool Thresholds\+::any\+Sensor\+Alert\+Active (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Verifica si alguna alerta de sensor está activa. 

\begin{DoxyReturn}{Devuelve}
true si alguna alerta de sensor está activa, false en caso contrario. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a3bb92d66f2bf1123cd1e4541241fd81b}\index{Thresholds@{Thresholds}!evaluate@{evaluate}}
\index{evaluate@{evaluate}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{evaluate()}{evaluate()}}
{\footnotesize\ttfamily \label{class_thresholds_a3bb92d66f2bf1123cd1e4541241fd81b} 
\mbox{\hyperlink{struct_actuator_state}{Actuator\+State}} Thresholds\+::evaluate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_sensor_data}{Sensor\+Data}} \&}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Evalúa los datos de los sensores y actualiza el estado de los actuadores. 

Activa o desactiva los actuadores en función de los valores de los sensores y los umbrales definidos.


\begin{DoxyParams}{Parámetros}
{\em data} & Datos de los sensores. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Estado actualizado de los actuadores. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a751cb3228c8aab50f56f0561516cd44a}\index{Thresholds@{Thresholds}!formatActuatorState@{formatActuatorState}}
\index{formatActuatorState@{formatActuatorState}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{formatActuatorState()}{formatActuatorState()}}
{\footnotesize\ttfamily \label{class_thresholds_a751cb3228c8aab50f56f0561516cd44a} 
String Thresholds\+::format\+Actuator\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_actuator_state}{Actuator\+State}} \&}]{state}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Formatea el estado de los actuadores en una cadena legible. 


\begin{DoxyParams}{Parámetros}
{\em state} & Estado de los actuadores. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Cadena con el estado formateado. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_af201ffee6ff0ee5b81a16147cd1a2222}\index{Thresholds@{Thresholds}!formatSensorData@{formatSensorData}}
\index{formatSensorData@{formatSensorData}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{formatSensorData()}{formatSensorData()}}
{\footnotesize\ttfamily \label{class_thresholds_af201ffee6ff0ee5b81a16147cd1a2222} 
String Thresholds\+::format\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_sensor_data}{Sensor\+Data}} \&}]{d}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Formatea los datos de los sensores en una cadena legible. 


\begin{DoxyParams}{Parámetros}
{\em d} & Datos de los sensores. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Cadena con los datos formateados. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a06485a2d2379ccefed776cf2e3694c25}\index{Thresholds@{Thresholds}!getStatus@{getStatus}}
\index{getStatus@{getStatus}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{getStatus()}{getStatus()}}
{\footnotesize\ttfamily \label{class_thresholds_a06485a2d2379ccefed776cf2e3694c25} 
String Thresholds\+::get\+Status (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Obtiene el estado actual de los umbrales configurados. 

\begin{DoxyReturn}{Devuelve}
Cadena con los valores de los umbrales actuales. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a598f35abd225b482dc1edbbeb2ebc0be}\index{Thresholds@{Thresholds}!hasAlertChanged@{hasAlertChanged}}
\index{hasAlertChanged@{hasAlertChanged}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{hasAlertChanged()}{hasAlertChanged()}}
{\footnotesize\ttfamily \label{class_thresholds_a598f35abd225b482dc1edbbeb2ebc0be} 
bool Thresholds\+::has\+Alert\+Changed (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Verifica si alguna alerta ha cambiado desde la última evaluación. 

\begin{DoxyReturn}{Devuelve}
true si alguna alerta ha cambiado, false en caso contrario. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a592d9bd4c8ef0344796b75cdf72efdf8}\index{Thresholds@{Thresholds}!hasCriticalFailure@{hasCriticalFailure}}
\index{hasCriticalFailure@{hasCriticalFailure}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{hasCriticalFailure()}{hasCriticalFailure()}}
{\footnotesize\ttfamily \label{class_thresholds_a592d9bd4c8ef0344796b75cdf72efdf8} 
bool Thresholds\+::has\+Critical\+Failure (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Verifica si hay una falla crítica en el sistema. 

Una falla crítica ocurre si hay pérdida de conexión con nodos o voltaje bajo.

\begin{DoxyReturn}{Devuelve}
true si hay una falla crítica, false en caso contrario. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a8465e30d67052905f53b748e46f5749c}\index{Thresholds@{Thresholds}!returnAlarm@{returnAlarm}}
\index{returnAlarm@{returnAlarm}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{returnAlarm()}{returnAlarm()}}
{\footnotesize\ttfamily \label{class_thresholds_a8465e30d67052905f53b748e46f5749c} 
String Thresholds\+::return\+Alarm (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_sensor_data}{Sensor\+Data}} \&}]{data}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Genera un mensaje con las alertas activas. 

Incluye alertas críticas y de sensores, junto con recomendaciones de acción.


\begin{DoxyParams}{Parámetros}
{\em data} & Datos de los sensores. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Devuelve}
Cadena con el mensaje de alertas. 
\end{DoxyReturn}
\Hypertarget{class_thresholds_a5826df94b84314fac5d1db2c01cef61a}\index{Thresholds@{Thresholds}!updateFromCommand@{updateFromCommand}}
\index{updateFromCommand@{updateFromCommand}!Thresholds@{Thresholds}}
\doxysubsubsection{\texorpdfstring{updateFromCommand()}{updateFromCommand()}}
{\footnotesize\ttfamily \label{class_thresholds_a5826df94b84314fac5d1db2c01cef61a} 
void Thresholds\+::update\+From\+Command (\begin{DoxyParamCaption}\item[{const String \&}]{cmd}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Actualiza los umbrales en función de un comando recibido. 

El comando debe tener el formato "{}comando tipo valor"{}, donde\+:
\begin{DoxyItemize}
\item {\ttfamily tipo} es el umbral a modificar (por ejemplo, "{}suelo\+\_\+min"{}).
\item {\ttfamily valor} es el nuevo valor del umbral.
\end{DoxyItemize}


\begin{DoxyParams}{Parámetros}
{\em cmd} & Comando recibido. \\
\hline
\end{DoxyParams}


La documentación de esta clase está generada del siguiente archivo\+:\begin{DoxyCompactItemize}
\item 
PF-\/\+Edge/include/\mbox{\hyperlink{_thresholds_controller_8h}{Thresholds\+Controller.\+h}}\end{DoxyCompactItemize}
